Base de datos:
CREATE DATABASE gestion_salas
CHARACTER SET utf8mb4
COLLATE utf8mb4_general_ci;

USE gestion_salas;


Tablas:
-- Tabla: login
CREATE TABLE login (
    correo VARCHAR(255) PRIMARY KEY,
    contrasena VARCHAR(255) NOT NULL
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: participante
CREATE TABLE participante (
    ci VARCHAR(20) PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: facultad
CREATE TABLE facultad (
    id_facultad INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: programa_academico
CREATE TABLE programa_academico (
    nombre_programa VARCHAR(255) PRIMARY KEY,
    id_facultad INT,
    tipo ENUM('grado', 'posgrado') NOT NULL,
    FOREIGN KEY (id_facultad) REFERENCES facultad(id_facultad)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: participante_programa_academico
CREATE TABLE participante_programa_academico (
    id_alumno_programa INT AUTO_INCREMENT PRIMARY KEY,
    ci_participante VARCHAR(20),
    nombre_programa VARCHAR(255),
    rol ENUM('alumno', 'docente' , 'admin') NOT NULL,
    FOREIGN KEY (ci_participante) REFERENCES participante(ci),
    FOREIGN KEY (nombre_programa) REFERENCES programa_academico(nombre_programa)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: edificio
CREATE TABLE edificio (
    nombre_edificio VARCHAR(255) PRIMARY KEY,
    direccion VARCHAR(255) NOT NULL,
    departamento VARCHAR(255) NOT NULL
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: sala
CREATE TABLE sala (
    nombre_sala VARCHAR(255),
    edificio VARCHAR(255),
    capacidad INT NOT NULL,
    tipo_sala ENUM('libre', 'posgrado', 'docente') NOT NULL,
    PRIMARY KEY (nombre_sala, edificio),
    FOREIGN KEY (edificio) REFERENCES edificio(nombre_edificio)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: turno
CREATE TABLE turno (
    id_turno INT AUTO_INCREMENT PRIMARY KEY,
    hora_inicio TIME NOT NULL,
    hora_fin TIME NOT NULL
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: reserva
CREATE TABLE reserva (
    id_reserva INT AUTO_INCREMENT PRIMARY KEY,
    nombre_sala VARCHAR(255),
    edificio VARCHAR(255),
    fecha DATE NOT NULL,
    id_turno INT,
    estado ENUM('activa', 'cancelada', 'sin_asistencia', 'finalizada') NOT NULL,
    FOREIGN KEY (nombre_sala, edificio) REFERENCES sala(nombre_sala, edificio),
    FOREIGN KEY (id_turno) REFERENCES turno(id_turno)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: reserva_participante
CREATE TABLE reserva_participante (
    ci_participante VARCHAR(20),
    id_reserva INT,
    fecha_solicitud_reserva DATETIME NOT NULL,
    asistencia BOOLEAN NOT NULL,
    PRIMARY KEY (ci_participante, id_reserva),
    FOREIGN KEY (ci_participante) REFERENCES participante(ci),
    FOREIGN KEY (id_reserva) REFERENCES reserva(id_reserva)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- Tabla: sancion_participante
CREATE TABLE sancion_participante (
    ci_participante VARCHAR(20),
    fecha_inicio DATE NOT NULL,
    fecha_fin DATE NOT NULL,
    PRIMARY KEY (ci_participante, fecha_inicio, fecha_fin),
    FOREIGN KEY (ci_participante) REFERENCES participante(ci)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

Datos agregados:
INSERT INTO login (correo, contrasena) VALUES
('admin@ucu.edu.uy', 'claveadmin123'),
('ana@ucu.edu.uy', 'claveAna123'),
('juan@ucu.edu.uy', 'claveJuan456'),
('maria@ucu.edu.uy', 'claveMaria789'),
('sofia@ucu.edu.uy', 'claveSofia123'),
('martin@ucu.edu.uy', 'claveMartin456'),
('laura@ucu.edu.uy', 'claveLaura789'),
('carlos@ucu.edu.uy', 'claveCarlos321'),
('valeria@ucu.edu.uy', 'claveValeria654');

INSERT INTO participante (ci, nombre, apellido, email) VALUES
('000000000', 'Admin', 'Admin', 'admin@ucu.edu.uy'),
('11111111', 'Ana', 'Pérez', 'ana@ucu.edu.uy'),
('22222222', 'Juan', 'Rodríguez', 'juan@ucu.edu.uy'),
('33333333', 'María', 'Fernández', 'maria@ucu.edu.uy'),
('44444444', 'Sofía', 'López', 'sofia@ucu.edu.uy'),
('55555555', 'Martín', 'Santos', 'martin@ucu.edu.uy'),
('66666666', 'Laura', 'Bermúdez', 'laura@ucu.edu.uy'),
('77777777', 'Carlos', 'Vega', 'carlos@ucu.edu.uy'),
('88888888', 'Valeria', 'Nuñez', 'valeria@ucu.edu.uy');

INSERT INTO facultad (nombre) VALUES
('Facultad de Ingeniería'),
('Facultad de Ciencias Empresariales'),
('Facultad de Ciencias de la Salud'),
('Facultad de Derecho'),
('Facultad de Psicología'),
('Facultad de Contaduría'),
('Facultad de Administración de Empresas'),
('Facultad de Arquitectura');

INSERT INTO programa_academico (nombre_programa, id_facultad, tipo) VALUES
('Ingeniería en Informática', 1, 'grado'),
('Dirección de Empresas', 2, 'grado'),
('Maestría en Rehabilitación Oral', 3, 'posgrado'),
('Ingeniería de Software', 1, 'grado'),
('Contador Público', 2, 'grado'),
('Licenciatura en Psicología', 3, 'grado'),
('Maestría en Arquitectura Moderna', 5, 'posgrado'),
('Diplomado en Comunicación Digital', 2, 'posgrado');

INSERT INTO participante_programa_academico (ci_participante, nombre_programa, rol) VALUES
('11111111', 'Ingeniería en Informática', 'alumno'),
('22222222', 'Dirección de Empresas', 'alumno'),
('33333333', 'Maestría en Rehabilitación Oral', 'docente'),
('44444444', 'Ingeniería de Software', 'alumno'),
('55555555', 'Contador Público', 'alumno'),
('66666666', 'Licenciatura en Psicología', 'docente'),
('77777777', 'Diplomado en Comunicación Digital', 'alumno'),
('88888888', 'Maestría en Arquitectura Moderna', 'docente');

INSERT INTO edificio (nombre_edificio, direccion, departamento) VALUES
('Edificio Central', 'Av. 8 de Octubre 2738', 'Montevideo'),
('Edificio Mullin', 'Comandante Braga 2745', 'Montevideo'),
('Edificio Semprún', 'Estero Bellaco 2771', 'Montevideo'),
('Edificio San José', 'Av. 8 de Octubre 2733', 'Montevideo'),
('Edificio Sacré Coeur', 'Av. 8 de Octubre 2738', 'Montevideo'),
('Edificio Madre Marta', 'Av. Garibaldi 2831', 'Montevideo');

INSERT INTO sala (nombre_sala, edificio, capacidad, tipo_sala) VALUES
('Sala 101', 'Edificio Central', 20, 'libre'),
('Sala 202', 'Edificio Mullin', 15, 'posgrado'),
('Sala 303', 'Edificio Central', 10, 'docente'),
('Sala 201', 'Edificio San José', 25, 'libre'),
('Sala 202', 'Edificio San José', 30, 'posgrado'),
('Sala 300', 'Edificio Sacré Coeur', 20, 'docente'),
('Sala 301', 'Edificio Sacré Coeur', 15, 'libre'),
('Sala 100', 'Edificio Madre Marta', 18, 'posgrado');

INSERT INTO turno (hora_inicio, hora_fin) VALUES
('08:00:00', '09:00:00'),
('09:00:00', '10:00:00'),
('10:00:00', '11:00:00'),
('11:00:00', '12:00:00'),
('12:00:00', '13:00:00'),
('13:00:00', '14:00:00'),
('14:00:00', '15:00:00'),
('15:00:00', '16:00:00'),
('16:00:00', '17:00:00'),
('17:00:00', '18:00:00'),
('18:00:00', '19:00:00'),
('19:00:00', '20:00:00'),
('20:00:00', '21:00:00'),
('21:00:00', '22:00:00'),
('22:00:00', '23:00:00');

INSERT INTO reserva (nombre_sala, edificio, fecha, id_turno, estado) VALUES
('Sala 101', 'Edificio Central', '2025-11-10', 1, 'activa'),
('Sala 202', 'Edificio Mullin', '2025-11-11', 2, 'finalizada'),
('Sala 303', 'Edificio Central', '2025-11-12', 3, 'cancelada'),
('Sala 201', 'Edificio San José', '2025-11-15', 4, 'activa'),
('Sala 202', 'Edificio San José', '2025-11-16', 5, 'finalizada'),
('Sala 300', 'Edificio Sacré Coeur', '2025-11-17', 6, 'activa'),
('Sala 301', 'Edificio Sacré Coeur', '2025-11-18', 7, 'cancelada'),
('Sala 100', 'Edificio Madre Marta', '2025-11-19', 8, 'sin_asistencia');

INSERT INTO reserva_participante (ci_participante, id_reserva, fecha_solicitud_reserva, asistencia) VALUES
('11111111', 1, '2025-11-09 10:00:00', TRUE),
('22222222', 2, '2025-11-10 11:00:00', FALSE),
('33333333', 3, '2025-11-11 12:00:00', TRUE),
('44444444', 4, '2025-11-14 10:30:00', TRUE),
('55555555', 5, '2025-11-15 09:45:00', TRUE),
('66666666', 6, '2025-11-16 08:20:00', FALSE),
('44444444', 7, '2025-11-17 16:00:00', TRUE),
('55555555', 8, '2025-11-18 12:10:00', FALSE);

INSERT INTO sancion_participante (ci_participante, fecha_inicio, fecha_fin) VALUES
('11111111', '2025-07-01', '2025-07-15'),
('22222222', '2025-11-05', '2025-11-20'),
('33333333', '2025-11-10', '2025-11-25'),
('44444444', '2026-01-01', '2026-01-10'),
('55555555', '2026-01-05', '2026-01-15'),

